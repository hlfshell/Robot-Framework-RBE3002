from SensorClass import *
from Commands import *


class Infrared(Sensor):

	distance = 0

	def __init__(self, connectionInstance, channel= 0):
		self.serialConnection = connectionInstance
		global requestADCchannel
		self.historyToRemember = 1
		self.bytesPerData = 2
		self.PinOrChannel = channel
		self.Command = requestADCchannel
		

	'''
	getTheta()
		getTheta gets the potentiometer's raw read, multiplies
		it by the potentiometer's conversion multiplier (an
		attribute), and then adds its conversion offset to it.
		The result should be a linear angle conversion from the
		potentiometer.
	@return  theta - the angle of the potentiometer
	'''
	def getDistance(self):
		rawRead = self.readData()
		if rawRead <= 3:
			self.distance = 0
		else:
			self.distance = (6787 / (rawRead - 3)) - 4
		if self.distance >= 80:
			self.distance = 0
		return self.distance

	'''
	grabData()
		A general function call for easy calling of multiple unknown
		components by AI.
	@return whatever that object returns
	'''
	def grabData(self):
		return self.getDistance()
